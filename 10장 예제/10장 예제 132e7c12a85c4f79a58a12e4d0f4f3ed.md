# 10장 예제

## args.c

```c
#include <stdio.h>
#include <stdlib.h>

/* 모든 명령줄 인수를출력한다. */
int main(int argc, char *argv[])
{
    int i;
    for (i = 0; i < argc; i++) /* 모든 명령줄 인수출력 */
        printf("argv[%d]: %s \n", i, argv[i]);

    exit(0);
}
```

![Untitled](10%E1%84%8C%E1%85%A1%E1%86%BC%20%E1%84%8B%E1%85%A8%E1%84%8C%E1%85%A6%20132e7c12a85c4f79a58a12e4d0f4f3ed/Untitled.png)

실행 명령 문장 자체도 argv배열의 가장 앞에 들어가는 것을 알 수 있음

## environ.c

```c
#include <stdio.h>
#include <stdlib.h>

/* 모든 환경 변수를출력한다. */
int main(int argc, char *argv[])
{
    char **ptr;
    extern char **environ;

    for (ptr = environ; *ptr != 0; ptr++) /* 모든 환경 변수 값 출력*/
        printf("%s \n", *ptr);

    exit(0);
}
```

![Untitled](10%E1%84%8C%E1%85%A1%E1%86%BC%20%E1%84%8B%E1%85%A8%E1%84%8C%E1%85%A6%20132e7c12a85c4f79a58a12e4d0f4f3ed/Untitled%201.png)

![Untitled](10%E1%84%8C%E1%85%A1%E1%86%BC%20%E1%84%8B%E1%85%A8%E1%84%8C%E1%85%A6%20132e7c12a85c4f79a58a12e4d0f4f3ed/Untitled%202.png)

이외의 다른 환경 변수 값도 출력

## printenv.c

```c
#include <stdio.h>
#include <stdlib.h>

/* 환경 변수를 3개 프린트한다. */
int main(int argc, char *argv[])
{
    char *ptr;

    ptr = getenv("HOME");
    printf("HOME = %s \n", ptr);

    ptr = getenv("SHELL");
    printf("SHELL = %s \n", ptr);

    ptr = getenv("PATH");
    printf("PATH = %s \n", ptr);

    exit(0);
}
```

![Untitled](10%E1%84%8C%E1%85%A1%E1%86%BC%20%E1%84%8B%E1%85%A8%E1%84%8C%E1%85%A6%20132e7c12a85c4f79a58a12e4d0f4f3ed/Untitled%203.png)

환경 변수 3개 HOME, SHELL, PATH가 출력 됨

## pid.c

```c
#include <stdio.h>

/* 프로세스 번호를출력한다. */
int main()
{
    int pid;
    printf("나의 프로세스 번호 : %d \n", getpid());
    printf("내 부모 프로세스 번호 : %d \n", getppid());
}
```

![Untitled](10%E1%84%8C%E1%85%A1%E1%86%BC%20%E1%84%8B%E1%85%A8%E1%84%8C%E1%85%A6%20132e7c12a85c4f79a58a12e4d0f4f3ed/Untitled%204.png)

## uid.c

```c
#include <stdio.h>
#include <pwd.h>
#include <grp.h>

/* 사용자 ID를 출력한다. */
int main()
{
    int pid;
    printf("나의 실제 사용자 ID : %d(%s) \n", getuid(), getpwuid(getuid())->pw_name);
    printf("나의 유효 사용자 ID : %d(%s) \n", geteuid(), getpwuid(geteuid())->pw_name);
    printf("나의 실제 그룹 ID : %d(%s) \n", getgid(), getgrgid(getgid())->gr_name);
    printf("나의 유효 그룹 ID : %d(%s) \n", getegid(), getgrgid(getegid())->gr_name);
}
```

![Untitled](10%E1%84%8C%E1%85%A1%E1%86%BC%20%E1%84%8B%E1%85%A8%E1%84%8C%E1%85%A6%20132e7c12a85c4f79a58a12e4d0f4f3ed/Untitled%205.png)